(function(root,factory){if(typeof define===function&&define.amd){define([cldr,..globalize,.number,cldrevent,cldrsupplemental],factory)}else if(typeof exports===object){module.exports=factory(require(cldrjs),require(globalize))}else{factory(root.Cldr,root.Globalize)}})(this,function(Cldr,Globalize){var alwaysArray=Globalize._alwaysArray,formatMessage=Globalize._formatMessage,numberNumberingSystem=Globalize._numberNumberingSystem,numberPattern=Globalize._numberPattern,runtimeBind=Globalize._runtimeBind,stringPad=Globalize._stringPad,validateCldr=Globalize._validateCldr,validateDefaultLocale=Globalize._validateDefaultLocale,validateParameterPresence=Globalize._validateParameterPresence,validateParameterType=Globalize._validateParameterType,validateParameterTypeNumber=Globalize._validateParameterTypeNumber,validateParameterTypePlainObject=Globalize._validateParameterTypePlainObject;var validateParameterTypeCurrency=function(value,name){validateParameterType(value,name,value===undefinedtypeof value===string&&^[A-Za-z]{3}$.test(value),3-letter currency code string as defined by ISO 4217)};var currencySupplementalOverride=function(currency,pattern,cldr){var digits,fraction=,fractionData=cldr.supplemental([currencyDatafractions,currency])cldr.supplemental(currencyDatafractionsDEFAULT);digits=+fractionData._digits;if(digits){fraction=.+stringPad(0,digits).slice(0,-1)+fractionData._rounding}return pattern.replace(.(#+0[0-9]0+[0-9])g,fraction)};var objectFilter=function(object,testRe){var key,copy={};for(key in object){if(testRe.test(key)){copy[key]=object[key]}}return copy};var currencyUnitPatterns=function(cldr){return objectFilter(cldr.main([numbers,currencyFormats-numberSystem-+numberNumberingSystem(cldr)]),^unitPattern)};var currencyCodeProperties=function(currency,cldr){var pattern=numberPattern(decimal,cldr);pattern=currencySupplementalOverride(currency,pattern,cldr);return{currencycurrency,patternpattern,unitPatternscurrencyUnitPatterns(cldr)}};var currencyNameFormat=function(formattedNumber,pluralForm,properties){var displayName,unitPattern,displayNames=properties.displayNames{},unitPatterns=properties.unitPatterns;displayName=displayNames[displayName-count-+pluralForm]displayNames[displayName-count-other]displayNames.displayNameproperties.currency;unitPattern=unitPatterns[unitPattern-count-+pluralForm]unitPatterns[unitPattern-count-other];return formatMessage(unitPattern,[formattedNumber,displayName])};var currencyFormatterFn=function(numberFormatter,pluralGenerator,properties){var fn;if(pluralGenerator&&properties){fn=function currencyFormatter(value){validateParameterPresence(value,value);validateParameterTypeNumber(value,value);return currencyNameFormat(numberFormatter(value),pluralGenerator(value),properties)}}else{fn=function currencyFormatter(value){return numberFormatter(value)}}return fn};var currencyNameProperties=function(currency,cldr){var properties=currencyCodeProperties(currency,cldr);properties.displayNames=objectFilter(cldr.main([numberscurrencies,currency]),^displayName);return properties};var regexpNotS=[0-#%-,-;-]_a-{}x7F-xA1xA7xAAxABxADxB2xB3xB5-xB7xB9-xD6xD8-xF6xF8-u02C1u02C6-u02D1u02E0-u02E4u02ECu02EEu0300-u0374u0376-u0383u0386-u03F5u03F7-u0481u0483-u058Cu0590-u0605u0609u060Au060Cu060Du0610-u06DDu06DF-u06E8u06EA-u06FCu06FF-u07F5u07F7-u09F1u09F4-u09F9u09FC-u0AF0u0AF2-u0B6Fu0B71-u0BF2u0BFB-u0C7Eu0C80-u0D78u0D7A-u0E3Eu0E40-u0F00u0F04-u0F12u0F14u0F18u0F19u0F20-u0F33u0F35u0F37u0F39-u0FBDu0FC6u0FCDu0FD0-u0FD4u0FD9-u109Du10A0-u138Fu139A-u17DAu17DC-u193Fu1941-u19DDu1A00-u1B60u1B6B-u1B73u1B7D-u1FBCu1FBEu1FC2-u1FCCu1FD0-u1FDCu1FE0-u1FECu1FF0-u1FFCu1FFF-u2043u2045-u2051u2053-u2079u207D-u2089u208D-u209Fu20BE-u20FFu2102u2107u210A-u2113u2115u2119-u211Du2124u2126u2128u212A-u212Du212F-u2139u213C-u213Fu2145-u2149u214Eu2150-u218Fu2308-u230Bu2329u232Au23FB-u23FFu2427-u243Fu244B-u249Bu24EA-u24FFu2768-u2793u27C5u27C6u27E6-u27EFu2983-u2998u29D8-u29DBu29FCu29FDu2B74u2B75u2B96u2B97u2BBA-u2BBCu2BC9u2BD2-u2CE4u2CEB-u2E7Fu2E9Au2EF4-u2EFFu2FD6-u2FEFu2FFC-u3003u3005-u3011u3014-u301Fu3021-u3035u3038-u303Du3040-u309Au309D-u318Fu3192-u3195u31A0-u31BFu31E4-u31FFu321F-u3229u3248-u324Fu3251-u325Fu3280-u3289u32B1-u32BFu32FFu3400-u4DBFu4E00-uA48FuA4C7-uA6FFuA717-uA71FuA722-uA788uA78B-uA827uA82C-uA835uA83A-uAA76uAA7A-uAB5AuAB5C-uD7FFuDC00-uFB28uFB2A-uFBB1uFBC2-uFDFBuFDFE-uFE61uFE63uFE67uFE68uFE6A-uFF03uFF05-uFF0AuFF0C-uFF1BuFF1F-uFF3DuFF3FuFF41-uFF5BuFF5DuFF5F-uFFDFuFFE7uFFEF-uFFFBuFFFEuFFFF]uD800[uDC00-uDD36uDD40-uDD78uDD8AuDD8BuDD8D-uDD8FuDD9C-uDD9FuDDA1-uDDCFuDDFD-uDFFF][uD801uD803-uD819uD81B-uD82EuD830-uD833uD836-uD83AuD83F-uDBFF][uDC00-uDFFF]uD802[uDC00-uDC76uDC79-uDEC7uDEC9-uDFFF]uD81A[uDC00-uDF3BuDF40-uDF44uDF46-uDFFF]uD82F[uDC00-uDC9BuDC9D-uDFFF]uD834[uDCF6-uDCFFuDD27uDD28uDD65-uDD69uDD6D-uDD82uDD85-uDD8BuDDAA-uDDADuDDDE-uDDFFuDE42-uDE44uDE46-uDEFFuDF57-uDFFF]uD835[uDC00-uDEC0uDEC2-uDEDAuDEDC-uDEFAuDEFC-uDF14uDF16-uDF34uDF36-uDF4EuDF50-uDF6EuDF70-uDF88uDF8A-uDFA8uDFAA-uDFC2uDFC4-uDFFF]uD83B[uDC00-uDEEFuDEF2-uDFFF]uD83C[uDC2C-uDC2FuDC94-uDC9FuDCAFuDCB0uDCC0uDCD0uDCF6-uDD0FuDD2FuDD6C-uDD6FuDD9B-uDDE5uDE03-uDE0FuDE3B-uDE3FuDE49-uDE4FuDE52-uDEFFuDF2D-uDF2FuDF7EuDF7FuDFCF-uDFD3uDFF8-uDFFF]uD83D[uDCFFuDD4B-uDD4FuDD7AuDDA4uDE43uDE44uDED0-uDEDFuDEED-uDEEFuDEF4-uDEFFuDF74-uDF7FuDFD5-uDFFF]uD83E[uDC0C-uDC0FuDC48-uDC4FuDC5A-uDC5FuDC88-uDC8FuDCAE-uDFFF][uD800-uDBFF];var currencySymbolProperties=function(currency,cldr,options){var currencySpacing,pattern,regexp={[digit]d,[^S]regexpNotS},symbol=cldr.main([numberscurrencies,currency,symbol]);currencySpacing=[beforeCurrency,afterCurrency].map(function(position){return cldr.main([numbers,currencyFormats-numberSystem-+numberNumberingSystem(cldr),currencySpacing,position])});pattern=cldr.main([numbers,currencyFormats-numberSystem-+numberNumberingSystem(cldr),options.style===accountingaccountingstandard]);pattern=currencySupplementalOverride(currency,pattern,cldr).split(;).map(function(pattern){return pattern.split(¤).map(function(part,i){var currencyMatch=regexp[currencySpacing[i].currencyMatch],surroundingMatch=regexp[currencySpacing[i].surroundingMatch],insertBetween=;currencyMatch=currencyMatch.test(symbol.charAt(isymbol.length-10));surroundingMatch=surroundingMatch.test(part.charAt(i0part.length-1).replace([#@,.]g,0));if(currencyMatch&&part&&surroundingMatch){insertBetween=currencySpacing[i].insertBetween}return(iinsertBetween)+part+(iinsertBetween)}).join('+symbol+')}).join(;);return{patternpattern}};var objectOmit=function(object,keys){var key,copy={};keys=alwaysArray(keys);for(key in object){if(keys.indexOf(key)===-1){copy[key]=object[key]}}return copy};function validateRequiredCldr(path,value){validateCldr(path,value,{skip[supplementalcurrencyDatafractions[A-Za-z]{3}$]})}Globalize.currencyFormatter=Globalize.prototype.currencyFormatter=function(currency,options){var args,cldr,numberFormatter,pluralGenerator,properties,returnFn,style;validateParameterPresence(currency,currency);validateParameterTypeCurrency(currency,currency);validateParameterTypePlainObject(options,options);cldr=this.cldr;options=options{};args=[currency,options];style=options.stylesymbol;validateDefaultLocale(cldr);cldr.on(get,validateRequiredCldr);properties={accountingcurrencySymbolProperties,codecurrencyCodeProperties,namecurrencyNameProperties,symbolcurrencySymbolProperties}[style](currency,cldr,options);cldr.off(get,validateRequiredCldr);options=objectOmit(options,style);options.raw=properties.pattern;if(style===symbolstyle===accounting){numberFormatter=this.numberFormatter(options);returnFn=currencyFormatterFn(numberFormatter);runtimeBind(args,cldr,returnFn,[numberFormatter])}else{numberFormatter=this.numberFormatter(options);pluralGenerator=this.pluralGenerator();returnFn=currencyFormatterFn(numberFormatter,pluralGenerator,properties);runtimeBind(args,cldr,returnFn,[numberFormatter,pluralGenerator,properties])}return returnFn};Globalize.currencyParser=Globalize.prototype.currencyParser=function(){};Globalize.formatCurrency=Globalize.prototype.formatCurrency=function(value,currency,options){validateParameterPresence(value,value);validateParameterTypeNumber(value,value);return this.currencyFormatter(currency,options)(value)};Globalize.parseCurrency=Globalize.prototype.parseCurrency=function(){};return Globalize});