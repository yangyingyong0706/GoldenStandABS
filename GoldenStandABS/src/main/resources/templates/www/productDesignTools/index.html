<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link href="/asset/font/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="/asset/font/fontello/css/fontello.css" rel="stylesheet" />
    <link href="/asset/lib/jquery/jquery-ui.css" rel="stylesheet" />
    <link href="/asset/lib/toast/toast.css" rel="stylesheet" />
    <title>结构化工具</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        a,
        span,
        td,
        div,
        li {
            font-family: "Microsoft YaHei";
        }

        body {
            font-family: "Microsoft YaHei", Helvetica, Arial, sans-serif;
            font-size: 12px;
        }

        [v-cloak] {
            display: none;
        }

        .hidden {
            width: 0px;
            height: 0px;
            display: none !important;
        }

        .inline-block-container {
            font-size: 0;
            -webkit-text-size-adjust: none;
            width: 100%;
            height: 170px;
        }

        .f-left {
            float: left;
        }

        .f-rigth {
            float: right;
        }

        .main-content {
        }

        .timeline {
            display: block;
            width: 97%;
            margin: 0 auto;
            overflow: auto;
            white-space: nowrap;
            padding: 72px 25px 10px;
        }

            .timeline::-webkit-scrollbar { /*滚动条整体样式*/
                width: 4px; /*高宽分别对应横竖滚动条的尺寸*/
                height: 8px;
                border-radius: 4px;
            }

            .timeline::-webkit-scrollbar-thumb { /*滚动条里面小方块*/
                border-radius: 4px;
                -webkit-box-shadow: inset 0 0 5px #d0d0d0;
                background: #cccccc;
            }

            .timeline::-webkit-scrollbar-track { /*滚动条里面轨道*/
                -webkit-box-shadow: inset 0 0 5px #e0e0e0;
                border-radius: 0;
                background: #f5f5f5;
            }

            .timeline > li {
                list-style: none;
                width: 190px;
                display: inline-block;
                font-size: 14px;
                vertical-align: top;
                transition: all .3s ease;
            }

            .timeline .upside {
                border-bottom: 5px solid #45569c;
                position: relative;
                height: 25px;
                text-align: center;
            }

            .timeline li .points {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: #45569c url(img/clock.png) center no-repeat;
                position: absolute;
                top: 10px;
            }

                .timeline li .points:hover,
                .timeline li.selected .points,
                .timeline li.selected .points span,
                .timeline li .points:hover span {
                    background-color: #d5b45d;
                }

                    .timeline li .points:hover span,
                    .timeline li.selected .points span {
                        border-color: #d5b45d;
                    }

                        .timeline li .points:hover span::before,
                        .timeline li .points:hover span::after,
                        .timeline li.selected .points span:before,
                        .timeline li.selected .points span:after {
                            border-color: #d5b45d transparent transparent transparent;
                        }

            .timeline li.selected {
                width: 230px;
            }

            .timeline .points span {
                position: absolute;
                display: block;
                padding: 0 18px;
                height: 25px;
                border-radius: 5px;
                line-height: 25px;
                color: #fff;
                text-align: center;
                border: 1px solid #45569c;
                top: -50px;
                left: 0px;
                transform: translateX(-50%);
                margin-left: 20px;
                background: #45569c;
            }

                .timeline .points span::after {
                    content: "";
                    position: absolute;
                    top: 26px;
                    left: 50%;
                    margin-left: -10px;
                    width: 0;
                    height: 0;
                    border-width: 10px;
                    border-style: solid;
                    border-color: #45569c transparent transparent transparent;
                }

                .timeline .points span::before {
                    content: "";
                    position: absolute;
                    top: 25px;
                    left: 50%;
                    margin-left: -10px;
                    width: 0;
                    height: 0;
                    border-width: 10px;
                    border-style: solid;
                    border-color: #45569c transparent transparent transparent;
                    z-index: 1;
                }

            .timeline .upside .time {
                color: #d5b45d;
                font-size: 12px;
                text-indent: 35px;
            }

            .timeline > li:hover > .upside, .timeline > li.selected > .upside {
                border-bottom: 5px solid #d5b45d;
            }

            .timeline .underside {
                padding-top: 5px;
                text-align: center;
                padding-left: 40px;
                color: #292f4a;
            }

            .timeline li.selected .underside {
                color: #62647d;
                padding-left: 40px;
                text-align: center;
                padding-top: 5px;
            }

        .period-detail {
            width: 80%;
            margin: 70px auto;
        }

            .period-detail h2 .small {
                font-size: xx-small;
                padding-left: 8px;
            }

            .period-detail > h3 {
                margin: 5px auto;
            }

            .period-detail > ul, .period-detail > p {
                margin-left: 10px;
            }

            .period-detail .period-dates {
                position: relative;
                height: 45px;
                padding: 15px 0;
            }

                .period-detail .period-dates .line {
                    content: '';
                    display: block;
                    width: 100%;
                    border: none;
                    border-top: 5px solid #d5b45d;
                    position: absolute;
                    top: 35px; /*left:50%;
                margin-left:-420px;*/
                }

                    .period-detail .period-dates .line span {
                        display: block;
                        height: 4px;
                        position: absolute;
                        background: #c49411;
                        top: -5px;
                        z-index: 2;
                        box-sizing: border-box;
                        border-left: 2px solid #fff;
                    }

                .period-detail .period-dates .date {
                    position: absolute;
                    display: inline-block;
                    top: 0;
                    z-index: 3;
                    transition: all .3s ease;
                }

                    .period-detail .period-dates .date:nth-child(2n+1) .date-point:before {
                        content: '';
                        display: block;
                        position: absolute;
                        width: 1px;
                        height: 15px;
                        top: 4px;
                        left: 50%;
                        background: #d5b45d;
                    }

                    .period-detail .period-dates .date:nth-child(2n) .date-point:before {
                        content: '';
                        display: block;
                        position: absolute;
                        width: 1px;
                        height: 15px;
                        top: -5px;
                        left: 39%;
                        background: #d5b45d;
                    }

                    .period-detail .period-dates .date.ui-draggable-dragging {
                        font-weight: 700;
                    }

                    .period-detail .period-dates .date:hover {
                    }

                .period-detail .period-dates .date-point {
                    width: 16px;
                    height: 16px;
                    background: url(img/cicle.png) center;
                    position: absolute;
                    top: 29px;
                    background-repeat: no-repeat;
                }

                .period-detail .period-dates .date:first-child .date-point,
                .period-detail .period-dates .date.end-date .date-point, .period-detail .date .date-point:hover {
                    border: 1px solid #ddd;
                    border-radius: 50%;
                    background-color: #fff;
                }

                    .period-detail .period-dates .date:first-child .date-point .date-title,
                    /*.period-detail .period-dates .date.end-date .date-point .date-title{
             background-color:#233669;
         }*/
                    .period-detail .date:hover {
                        z-index: 10;
                    }

                    .period-detail .date .date-point:hover .date-day {
                        display: block;
                    }

            .period-detail .date:nth-child(odd) .date-day {
                left: -10px;
                min-width: 90px;
                position: absolute;
                display: none;
                top: -15px;
            }

            .period-detail .date:nth-child(even) .date-day {
                left: -10px;
                min-width: 90px;
                position: absolute;
                display: none;
                top: 18px;
            }

            .period-detail .period-dates .date:first-child .date-day,
            /*.period-detail .period-dates .date.end-date .date-day { top: -15px; background: url(img/triangle.png) 12px 32px no-repeat; }*/
            .period-detail .period-dates .date:first-child:hover,
            .period-detail .period-dates .date.end-date:hover {
                cursor: default;
            }

            .period-detail .date:nth-child(odd) .date-title {
                transform: rotate(30deg); /* margin-left: 11px; */ /* text-indent: -3px; */
                position: absolute;
                top: 40px;
                left: -5px;
                min-width: 110px;
                padding: 2px;
                border-radius: 4px;
                background: #d5b45d;
                color: #fff;
                text-align: center;
            }

            .period-detail .date:nth-child(even) .date-title {
                transform: rotate(-30deg); /* margin-left: 11px; */ /* text-indent: -3px; */
                position: absolute;
                top: -39px;
                left: -5px;
                min-width: 110px;
                padding: 2px;
                border-radius: 4px;
                background: #d5b45d;
                color: #fff;
                text-align: center;
            }

            /*.period-detail .date:last-child .date-title { text-indent: -16px; margin-left: 18px; padding-top: 11px; }*/
            .period-detail .period-fees {
                list-style: none;
            }

            .period-detail .sortable-box > li {
                font-family: 'Microsoft YaHei';
                display: inline-block;
                padding: 5px 12px;
                margin-right: 20px;
                border: 1px solid #ddd;
                border-radius: 3px;
                margin-bottom: 5px;
                vertical-align: top;
                position: relative;
                cursor: default;
                width: 150px;
            }

                .period-detail .sortable-box > li.active_event {
                    background: #d5b45d;
                    color: #fff;
                    box-shadow: 1px 1px 1px rgba(0,0,0,.2);
                }

                .period-detail .sortable-box > li .close {
                    position: absolute;
                    padding: 2px 5px;
                    border-radius: 50%;
                    border: 1px solid #d8d8d8;
                    right: -8px;
                    top: -10px;
                    font-style: normal;
                    font-size: 12px;
                    transform: scale(0.8);
                    background: #fff;
                    color: #999;
                    display: none;
                    cursor: default;
                    transition: all .3s linear;
                }

                    .period-detail .sortable-box > li .close:hover {
                        background: #c49411;
                        color: #fff;
                    }

                .period-detail .sortable-box > li:hover .close {
                    display: block;
                }

            .period-detail .payment-fees {
                margin-left: 20px;
            }

                .period-detail .payment-fees > li {
                    min-height: 36px;
                }

                .period-detail .payment-fees .sortable-box > li {
                    display: inline-block;
                }
                /*.period-detail .payment-scenario {  margin-right: 20px; }*/
                .period-detail .payment-fees .sortable-box > li {
                    display: inline-block;
                    padding: 4px 12px;
                    border: 1px solid #ddd;
                    margin-right: 8px;
                    border-radius: 3px;
                    margin-bottom: 10px;
                }

        ::-webkit-scrollbar {
            width: 5px;
            height: 8px;
            background-color: #d5b45d;
        }

            ::-webkit-scrollbar:hover {
                cursor: move;
            }

        ::-webkit-scrollbar-track {
            background: #f5f5f5;
        }

        ::-webkit-scrollbar-thumb {
            background: #d8d8d8;
        }

        ::-webkit-scrollbar-corner {
            background: #fdfdfd;
        }

        .box-container {
            position: relative;
            padding: 2% 5%;
            width: 100%;
            min-height: 60px;
            box-shadow: 0 0 4px rgba(0,0,0,.2);
            margin-left: 6%;
            margin-bottom: 30px;
            box-sizing: border-box;
        }
            /*.box-container .title { position: absolute; left: -13%; top: -20%; padding: 5px 27px; background-repeat: no-repeat; background-position: left center; z-index: 1; } 会导致时间轴上标题位置错误*/
            .box-container .title {
                position: absolute;
                left: -12%;
                top: -33px;
                padding: 5px 27px;
                background-repeat: no-repeat;
                background-position: left center;
                z-index: 1;
                margin-left: -12px;
            }

            .box-container::after {
                content: '';
                position: absolute;
                display: block;
                width: 1px;
                height: calc(100% + 50px);
                background: #d5b45d;
                left: -12%;
                top: -30px;
                z-index: 0;
            }

            .box-container:last-child::after {
                display: none;
            }

        .period-dates-container .title {
            background-image: url(img/report-dates.png);
        }

        .period-fees-container .title {
            background-image: url(img/fees.png);
        }

        .period-events-container .title {
            background-image: url(img/events.png);
        }

        .period-scenario-container .title {
            background-image: url(img/payment-plan.png);
        }

        .period-detail > h2 {
            padding: 10px 6%;
        }

        .period-scenario-container .period-fees-ul li {
            background: #62647d !important;
            color: #ffffff;
            border-color: rgba(236, 212, 212, 0.3);
        }

        .period-scenario-container .payment-scenario {
            width: 50%;
            display: inline-block;
            box-sizing: border-box;
            border-right: 1px solid #d8d8d8;
            vertical-align: top;
        }

            .period-scenario-container .payment-scenario h4 {
                position: relative;
                height: 30px;
                line-height: 30px;
                text-align: center;
                background: #d5b45d;
                color: #fff;
            }

                .period-scenario-container .payment-scenario h4 .scenario-edit {
                    position: absolute;
                    right: 0;
                }

                    .period-scenario-container .payment-scenario h4 .scenario-edit span {
                        padding: 0px 4px;
                        border: 1px solid #eee;
                        color: #fff;
                        margin-right: 5px;
                        height: 16px;
                        line-height: 16px;
                        font-size: 12px;
                        cursor: pointer;
                        display: none;
                        transition: all .3s ease;
                    }

            .period-scenario-container .payment-scenario:hover h4 span {
                display: inline-block;
            }

            .period-scenario-container .payment-scenario.right h4 {
                background: #eee;
                color: #000;
            }

            .period-scenario-container .payment-scenario > ul {
                list-style: decimal;
                padding: 15px 20px;
            }

        .period-dates-container {
            padding: 8% 4%;
        }

        .tool-container .tool {
            position: fixed;
            padding: 0 15px 20px 15px;
            box-shadow: 1px 1px 4px rgba(0,0,0,.2);
            top: 20%;
            width: 12%;
            background: #fdfdfd;
            z-index: 10;
            border-radius: 4px;
            transition: all .3s linear;
        }

            .tool-container .tool.fees-tool, .tool-container .tool.event-tool {
                right: 0;
            }

        .tool-container .scenario-container {
            left: 0;
        }

        .tool-container .fees-tool.slide, .tool-container .event-tool.slide {
            transform: translateX(100%);
        }

        .tool-container .scenario-container.slide {
            transform: translateX(-100%);
        }
        /*.tool-container .tool.slide { right: -210px !important; left: auto !important;*/ /*transform:translateX(100%);*/
        }
        /*.tool-container .scenario-container.slide { left: -210px !important; right: auto !important;*/ /*transform:translateX(-100%);*/
        }

        .tool-container .tool h3 {
            color: #233669;
            text-align: center;
            height: 30px;
            line-height: 30px;
        }

            .tool-container .tool h3:hover {
                cursor: move;
            }

        .tool-container .tool.event-tool {
            top: calc(20% + 300px);
        }

        .tool .list {
            display: block;
            height: 200px;
            overflow-y: auto;
            padding: 15px 0;
            list-style: none;
        }

            .tool .list li .close {
                display: none;
            }

            .tool .list li span {
                display: inline-block;
                padding: 4px 12px;
                margin-bottom: 5px;
                border: 1px solid #989ba5;
                border-radius: 4px;
                width: 90%;
                box-sizing: border-box;
            }

        .tool-container .scenario-container {
            left: 0;
            right: auto;
        }

        .tool-container .arrow {
            position: absolute;
            left: -20px;
            top: 50%;
            display: block;
            width: 10px;
            height: auto;
            padding: 5px 5px;
            background: #233669;
            color: #fff;
            border-radius: 4px 0 0 4px;
            transform: translateY(-50%);
            cursor: default;
        }

        .tool-container .scenario-container .arrow {
            cursor: default;
            left: 100%;
            border-radius: 0 4px 4px 0;
        }

        .period-fees-ul li.sortable-placeholder, .event-sortable-box li.sortable-placeholder {
            min-width: 80px;
            height: 28px;
            box-sizing: border-box;
            border: 1px dashed #d5b45d;
        }

        #fees li.ui-sortable-helper, .period-events li.ui-sortable-helper, #fees-tool li.ui-sortable-helper span {
            background: #d5b45d;
            border: 1px solid #d5b45d !important;
            color: #fff;
            min-width: 100px;
        }

        .ui-dialog-titlebar {
            height: 38px;
            background: rgba(243,245,250,1);
            text-align: left;
            line-height: 38px;
            font-size: 14px;
            padding-left: 20px;
            border-radius: 4px 4px 0 0;
            border: 1px solid #bdbcbc;
        }

        .ui-dialog-content {
            background: #fff;
            padding: 10px;
            overflow: auto;
            border: 1px solid #bdbcbc;
            border-top: none;
            border-bottom: none;
        }

        .ui-dialog-buttonpane {
            padding: 6px 10px;
            text-align: right;
            background: #fff;
            border: 1px solid #bdbcbc;
            border-radius: 0 0 4px 4px;
        }

        .ui-widget-overlay {
            background: rgba(0,0,0,.3);
            position: fixed;
            left: 0;
            top: 0;
        }

        .no-close .ui-dialog-titlebar-close {
            display: none;
        }

        .ui-dialog-buttonset button {
            padding: 2px 12px;
            margin-right: 10px;
        }

        .ui-dialog-content h4 {
            height: 30px;
            line-height: 30px;
            font-size: 14px;
            padding: 0 10px;
            font-weight: normal;
        }

        .ui-dialog-content p {
            margin-bottom: 10px;
            padding: 0 10px;
        }

        .form-control {
            margin-bottom: 10px;
            padding: 0 10px;
            font-size: 0;
            width: calc(50% - 20px);
            float: left;
        }

            .form-control label {
                min-width: 130px;
                display: inline-block;
                background: rgba(243,245,250,1);
                height: 30px;
                line-height: 30px;
                vertical-align: top;
                font-size: 13px;
                border: 1px solid rgba(220,224,238,1);
                text-align: center;
                box-sizing: border-box;
                border-right: 0px;
            }

            .form-control:focus {
                border-color: #45569c;
                box-shadow: inset 0 0px 0px #45569c, 0 0 4px #45569c;
            }

            .form-control input, .form-control select {
                height: 30px;
                line-height: 30px;
                box-sizing: border-box;
                padding: 0 10px;
                width: calc(100% - 130px);
                border: 1px solid #ddd;
                box-sizing: border-box;
            }

        .form-control2 {
            margin-bottom: 10px;
        }

            .form-control2 label {
                width: 100%;
                font-size: 13px;
                margin-bottom: 5px;
                display: inline-block;
            }

            .form-control2 input {
                width: 100%;
                height: 26px;
                line-height: 26px;
                box-sizing: border-box;
                padding: 0 10px;
            }

            .form-control2.check-input label {
                width: 88%;
            }

            .form-control2.check-input input {
                width: 10%;
                padding: 2px;
                height: auto;
                position: relative;
                top: 2px;
            }

        .flip-list-move {
            transition: transform 0.5s;
        }

        .scenario-container button {
            padding: 2px 10px;
        }
        /*.form-control2.date-input input {width:40%}*/
        table {
            border-radius: 3px;
            background-color: #f4f4f4;
            width: 100%;
        }

        th {
            background-color: #42b983;
            color: rgba(255,255,255,0.66);
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        td {
            background-color: #fff;
        }

        th, td {
            min-width: 10px;
            padding: 9px 13px;
        }

            th.active {
                color: #fff;
            }

                th.active .arrow {
                    opacity: 1;
                }

        ul.payment-scenario-ul.fees-sortable-box.sortable-box {
            min-height: 10px;
        }

        .sortable-ghost {
            background: #d5b45d;
            color: #fff; /*font-size:0;
            width:80px;
            height:20px;*/
            border-color: #d5b45d !important;
        }

        .alert_tip {
            position: fixed;
            top: 50%;
            left: 50%;
            right: 50%;
            height: 100px;
            margin-top: -50px;
            width: 200px;
            margin-left: -100px;
            background: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 0 5px rgba(0,0,0,.10);
            border-radius: 3px;
            z-index: 10;
        }

            .alert_tip .alert_content {
                padding: 13px 0;
                text-align: center;
            }

                .alert_tip .alert_content i {
                    font-size: 60px;
                    font-weight: 500;
                    color: #2d64b3;
                    line-height: 60px;
                }

                .alert_tip .alert_content p {
                    color: #555;
                    font-size: 12px;
                    display: block;
                    font-weight: normal;
                }

        .am-scale-up {
            -webkit-animation: am-scale-up .3s ease-out both;
            animation: am-scale-up .3s ease-out both;
        }

        .fade-enter-active {
            transition: all .3s ease;
        }

        .fade-leave-active {
            transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);
        }

        .fade-enter, .fade-leave-active {
            opacity: 0;
            transform: translate(-50%,-100%) !important;
        }

        .gd-message {
            min-width: 380px;
            box-sizing: border-box;
            border-radius: 4px;
            border-width: 1px;
            border-style: solid;
            border-color: #ebeef5;
            position: fixed;
            left: 50%;
            top: 60px;
            transform: translateX(-50%);
            background-color: #edf2fc;
            transition: opacity 0.3s,transform .4s;
            overflow: hidden;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            font-size: 14px;
        }

            .gd-message .fa {
                margin-right: 8px;
                margin-top: 3px;
            }

        .gd-message-success {
            color: #67c23a;
            background-color: #f0f9eb;
        }

        .gd-message-warning {
            color: #e6a23c;
            background-color: #fdf6ec;
        }

        .gd-message-info {
            color: #909399;
            background-color: #f0f9eb;
        }

        .gd-message-error {
            color: #f56c6c;
            background-color: #fef0f0;
        }

        .gd-loading-fix {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 8;
            width: 100%;
            height: 100%;
            background-color: hsla(0,0%,100%,.9);
        }

        .gd-loading {
            color: #2d8cf0;
            vertical-align: middle;
            text-align: center;
        }

        .gd-loading-fix .gd-loading-main {
            position: absolute;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%,-50%);
            transform: translate(-50%,-50%);
        }

        .gd-loading-fix .gd-loading-dot {
            display: inline-block;
        }

        .gd-loading-dot {
            position: relative;
            display: block;
            border-radius: 50%;
            background-color: #2d8cf0;
            width: 20px;
            height: 20px;
            -webkit-animation: ani-spin-bounce 1s 0s ease-in-out infinite;
            animation: ani-spin-bounce 1s 0s ease-in-out infinite;
        }

        @keyframes ani-spin-bounce {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }

            100% {
                -webkit-transform: scale(1);
                transform: scale(1);
                opacity: 0;
            }
        }

        .demo-spin-container {
            display: inline-block;
            width: 200px;
            height: 100px;
            position: relative;
            border: 1px solid #eee;
        }

        .edit-btn, .cancel-btn {
            background: none;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .ant-drawer > * {
            -webkit-transition: -webkit-transform .3s cubic-bezier(.9, 0, .3, .7),-webkit-box-shadow .3s cubic-bezier(.9, 0, .3, .7);
            transition: -webkit-transform .3s cubic-bezier(.9, 0, .3, .7),-webkit-box-shadow .3s cubic-bezier(.9, 0, .3, .7);
            transition: transform .3s cubic-bezier(.9, 0, .3, .7),box-shadow .3s cubic-bezier(.9, 0, .3, .7);
            transition: transform .3s cubic-bezier(.9, 0, .3, .7),box-shadow .3s cubic-bezier(.9, 0, .3, .7),-webkit-transform .3s cubic-bezier(.9, 0, .3, .7),-webkit-box-shadow .3s cubic-bezier(.9, 0, .3, .7);
        }

        .ant-drawer-mask.open {
            height: 100%;
            opacity: .3;
            -webkit-transition: none;
            transition: none;
            -webkit-animation: antdDrawerFadeIn .3s cubic-bezier(.7, .3, .1, 1);
            animation: antdDrawerFadeIn .3s cubic-bezier(.7, .3, .1, 1);
        }

        .ant-drawer-bottom {
            width: 100%;
        }

            .ant-drawer-bottom.ant-drawer-open {
                height: 100%;
            }

        .ant-drawer-open {
            -webkit-transition: -webkit-transform .3s cubic-bezier(.7, .3, .1, 1);
            transition: -webkit-transform .3s cubic-bezier(.7, .3, .1, 1);
            transition: transform .3s cubic-bezier(.7, .3, .1, 1);
            transition: transform .3s cubic-bezier(.7, .3, .1, 1), -webkit-transform .3s cubic-bezier(.7, .3, .1, 1);
        }

        .ant-drawer {
            position: fixed;
            top: 0;
            z-index: 1000;
            width: 0%;
            height: 100%;
        }

        .ant-drawer-mask {
            position: fixed;
            width: 100%;
            height: 0;
            background-color: rgba(0,0,0,0.65);
            opacity: 0;
            filter: alpha(opacity=50);
            -webkit-transition: opacity .3s linear,height 0s ease .3s;
            transition: opacity .3s linear,height 0s ease .3s;
        }

        .ant-drawer-content-wrapper {
            bottom: 0;
            width: 100%;
            height: 0;
            position: fixed;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.15);
            background: #fff;
            overflow: hidden;
        }

        .titlestyle {
            height: 40px;
            line-height: 40px;
            border-bottom: 1px solid #ddd;
            font-size: 14px;
        }

            .titlestyle span {
                font-size: 16px;
                padding-left: 20px;
            }

        .inputTip {
            border: 1px solid red !important;
        }

        .btn.btn-primary {
            background-color: rgb(69, 86, 156);
            color: rgb(255, 255, 255);
            border-color: rgb(69, 86, 156);
            display: inline-block;
            margin-bottom: 0px;
            font-size: 13px;
            font-weight: normal;
            line-height: 1.42857;
            cursor: pointer;
            padding: 5px 12px;
            border-radius: 2pxx;
            border-width: 1px;
            border-style: solid;
            border-radius: 2px;
        }

        .info_style {
            display: inline-block;
            font-size: 13px;
            height: 30px;
            line-height: 30px;
            color: #555;
            background: rgba(243,245,250,1);
            text-align: center;
            border: 1px solid rgba(220,224,238,1);
            border-radius: 2px;
            border-top-right-radius: 0px;
            border-bottom-right-radius: 0px;
            border-right: 0px;
            padding-left: 0px !important;
            box-sizing: border-box;
        }

        .form-control12 {
            position: relative;
            display: block;
            height: 30px;
            font-size: 13px;
            line-height: 20px;
            color: rgb(85, 85, 85);
            background-color: rgb(255, 255, 255);
            background-image: none;
            box-sizing: border-box;
            padding: 5px 10px;
            border-width: 1px;
            border-style: solid;
            border-color: rgb(221, 221, 221);
        }

        .fee-input-group {
            width: 33%;
            margin-bottom: 10px;
            padding-top: 10px;
            padding-right: 25px;
            box-sizing: border-box;
        }

        .fee-input-group-cols-2 {
            width: 50%;
            margin-bottom: 10px;
            padding-top: 10px;
            padding-right: 25px;
            box-sizing: border-box;
        }

        .form-label {
            width: 42%;
            float: left;
            background: rgba(243,245,250,1);
            text-align: center;
            border-radius: 2px 0 0 2px;
            height: 30px;
            line-height: 30px;
            border: 1px solid rgba(230,233,245,1);
            border-right: 0px;
            box-sizing: border-box;
            font-size: 14px;
            color: #555;
        }

        .form-content {
            width: 58%;
            float: left;
            display: flex;
            position: relative;
            display: block;
            height: 30px;
            font-size: 13px;
            line-height: 20px;
            color: rgb(85, 85, 85);
            background-color: rgb(255, 255, 255);
            background-image: none;
            box-shadow: rgba(0, 0, 0, 0.04) 0px 1px 1px inset;
            box-sizing: border-box;
            padding: 5px 10px;
            border-width: 1px;
            border-style: solid;
            border-color: rgba(230,233,245,1);
            font-size: 14px;
        }

        .period-detail .sortable-box > li.greenEX {
            font-size: 12px;
        }

        .greenC {
            color: rgba(70,174,48,1);
        }

        .orc {
            color: #d5b45d;
        }

        .period-detail .sortable-box > li.orEX {
            font-size: 14px;
        }

        .layerbf {
            display: flex;
            margin-bottom: 10px;
        }

        .FormulaArea {
            width: 100%;
            border: 1px solid #DCE0EE;
        }

        .FStitle {
            width: 100%;
            height: 40px;
            line-height: 40px;
            border-bottom: 1px solid #DCE0EE;
        }

        .fino {
            font-size: 16px;
            color: #45569C;
            margin-left: 15px;
        }

        .cr {
            display: inline-block;
            font-size: 12px;
            height: 20px;
            line-height: 20px;
            background: #fdf9eb;
            color: #a79e9e;
            padding: 0 20px;
            margin-left: 20px;
            margin-top: 5px;
        }

        .changeArea {
            padding: 10px;
        }

        .changeTab {
            width: 32%;
            background: rgba(243,245,250,1);
            border: 1px solid rgba(220,224,238,1);
            display: inline-block;
            box-sizing: border-box;
        }

        .showArea {
            width: 68%;
            display: inline-block;
            border: 1px solid rgba(220,224,238,1);
            border-left: 0;
            box-sizing: border-box;
            float: right;
            height: 281px;
        }

        .headers {
            height: 40px;
            border-bottom: 1px solid rgba(220,224,238,1);
            box-sizing: border-box;
        }

        .ht {
            width: 100%;
            line-height: 40px;
            padding-left: 15px;
        }

        .ffs {
            color: #808080;
            font-size: 12px;
            height: 40px;
            line-height: 40px;
            display: inline-block;
            width: 100%;
            padding-left: 30px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .changetabs {
            width: 100%;
            height: 40px;
            line-height: 38px;
            padding-left: 30px;
            list-style: none;
        }

            .changetabs li {
                font-size: 14px;
                margin-right: 40px;
                float: left;
                cursor: pointer;
            }

                .changetabs li.active {
                    color: #45569C;
                    margin-right: 40px;
                    border-bottom: 2px solid #45569C;
                }

        .FeeBase {
            height: 224px;
            overflow: auto;
            overflow-x: hidden;
            float: left;
            text-align: center;
            padding-top: 10px;
            padding-bottom: 5px;
        }

        .PeriodBase {
            display: none;
            text-align: center;
            height: 224px;
            overflow: auto;
            overflow-x: hidden;
            float: left;
            text-align: center;
            padding-top: 10px;
            padding-bottom: 5px;
        }

        .elements {
            width: calc(90% - 15px);
            height: 30px;
            background: rgba(255,255,255,1);
            border: 1px solid rgba(220,224,238,1);
            border-radius: 4px;
            line-height: 30px;
            text-align: center;
            font-size: 14px;
            color: #45569C;
            margin: 5px;
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            cursor: pointer;
        }

        .showtitle {
            width: 100%;
            border-bottom: 1px solid rgba(220,224,238,1);
            height: 80px;
            background: rgba(243,245,250,1);
            position: relative;
        }

        .titlemiddle {
            width: 25%;
            height: 100%;
            border-right: 1px solid rgba(220,224,238,1);
            display: flex;
            flex-wrap: wrap;
            position: absolute;
            left: 40%;
            top: 0;
        }

        .tilteLeft {
            width: 40%;
            height: 100%;
            border-right: 1px solid rgba(220,224,238,1);
            display: flex;
            flex-wrap: wrap;
        }

            .tilteLeft span {
                font-size: 12px;
                color: #808080;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                margin-top: -5px;
            }

        .titleRight {
            width: 35%;
            height: 100%;
            display: flex;
            float: right;
            display: flex;
            flex-wrap: wrap;
            position: absolute;
            right: 0;
            top: 0;
        }

            .titleRight span {
                font-size: 12px;
                color: #808080;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

        .numberv {
            width: 120px;
            height: 30px;
            background: rgba(255,255,255,1);
            border: 1px solid rgba(220,224,238,1);
            border-radius: 4px;
            display: inline-block;
            padding-left: 10px;
            margin-top: 10px;
        }

        .operators {
            min-width: 0;
            height: 30px;
            background: rgba(255,255,255,1);
            border: 1px solid rgba(220,224,238,1);
            border-radius: 4px;
            cursor: pointer;
            display: inline-block;
            text-align: center;
            line-height: 30px;
            margin: 5px;
            padding: 0 5px;
            box-sizing: border-box;
            overflow: hidden;
            flex: 1;
        }

        .addNumberv {
            margin-top: 10px;
            margin-left: 5px;
            border-radius: 4px;
        }

        .DisplayArea {
            position: relative;
            height: 130px;
            width: 100%;
            border-bottom: 1px solid rgba(220,224,238,1);
        }

        .resultArea {
            overflow: auto;
            height: 54px;
        }

        .dis, .res {
            width: 100%;
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            box-sizing: border-box;
        }

        .xro {
            margin-right: 10px;
        }

        .clearArea {
            position: absolute;
            right: 10px;
            bottom: 0;
            margin-bottom: 10px;
            cursor: pointer;
            color: #D40000;
        }

        .goback {
            position: absolute;
            right: 80px;
            bottom: 0;
            margin-bottom: 10px;
            cursor: pointer;
            color: #45569C;
        }

        .infonv {
            min-width: 30px;
            height: 30px;
            background: rgba(255,255,255,1);
            border: 1px solid rgba(220,224,238,1);
            border-radius: 4px;
            cursor: pointer;
            display: inline-block;
            text-align: center;
            line-height: 30px;
            margin: 5px;
            padding: 0 5px;
        }

        .btn-danger {
            background-color: #fff;
            border-color: #deded;
        }

            .btn-danger:hover {
                color: #fff;
                background: #45569c;
                border-color: #45569c;
            }

        .btn {
            display: inline-block;
            height: 30px;
            padding: 4px 12px;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857143;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            touch-action: manipulation;
            cursor: pointer;
            user-select: none;
            background-image: none;
            border: 1px solid #dedede;
            border-radius: 3px;
            box-sizing: border-box;
        }
    </style>
    <script data-main="/js/www/productDesignTools/index.js" src="/asset/lib/require.js"></script>
</head>
<body>

    <div class="loading" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,.2) url(img/loading.gif) center no-repeat;display:none;"></div>
    <div id="PageMainContainer" class="main-content" v-cloak>

        <div class="inline-block-container">
            <ul id="DC_TimeLine" class="timeline">
                <li v-for="(period,index) in Periods" @click="ShowPeriodDetail($event, index, period)">
                    <div class="upside">
                        <div class="time">
                            {{period.StartDate}}~{{period.EndDate}}
                            <!--<span class="f-rigth" v-if="$index==Periods.length-1">{{period.EndDate}}</span>-->
                        </div>
                        <div class="points">
                            <span class="f-left">第{{index+1}}期</span>
                            <!--<span class="f-rigth" v-if="$index==Periods.length-1"></span>-->
                        </div>
                    </div>
                    <div class="underside">
                        {{DaysArr[index] + 2}}天
                    </div>
                </li>
            </ul>
        </div>
        <div class="period-detail" v-if="PeriodDetail.Index!=null">
            <h2>
                第{{PeriodDetail.Index+1}}期
                <span class="small">{{PeriodDetail.Start}}&nbsp;至&nbsp;{{PeriodDetail.End}}&nbsp;({{PeriodDetail.Days+2}}天)</span>
            </h2>


            <div class="period-dates-container box-container">
                <h3 class="title">报告日期</h3>
                <p v-if="!PeriodDetail.Dates.length">无</p>
                <div v-else class="period-dates">
                    <div v-for="(d ,index) in PeriodDetail.Dates" class="date" v-bind:style="{left: CalDateLeftOffset(d.Date) + 'px'}">
                        <div class="date-point">
                            <p class="date-day">{{d.Date}}</p>

                            <!--<p class="date-title" v-if="index==0" ref="tagday">计息开始日</p>-->
                            <!--<p class="date-title" v-if="index==PeriodDetail.Dates.length-1" ref="tagday">计息截止日</p>-->
                            <p class="date-title" ref="tagday">{{RemoveTrustCode(d.Title)}}</p>
                        </div>

                    </div>
                    <!--<div class="date end-date" v-bind:style="{left: CalDateLeftOffset(PeriodDetail.End) + 'px'}">
                        <div class="date-point">
                            <p class="date-day">{{PeriodDetail.End}}</p>
                            <p class="date-title">计息截止日</p>
                        </div>

                    </div>-->
                    <div id="hrPeriodTimeline" ref="hrPeriodTimeline" class="line"> </div>
                </div>
            </div>

            <div class="period-fees-container box-container">
                <h3 class="title">当期分层信息</h3>
                <draggable element="div" v-model="PeriodDetail.ClassStructure">
                    <transition-group name="flip-list" class="period-fees-ul fees-sortable-box sortable-box" tag="ul">
                        <li v-for="(TrustBond,index) in TrustBondName" v-bind:key="index">
                            <div class="layerbf" style="margin-bottom: 0">
                                <span style="cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" v-bind:title="TrustBond.name">{{TrustBond.name}}</span>
                                <button type="button" class="removeScenario edit-btn" title="编辑" v-on:click="editClassStructure(TrustBond.BondId)" style="margin-left:auto;color:rgba(69,86,156,1);font-size:16px;"><i class="icon icon-edit" style="position: relative;top: -2px;"></i></button>
                            </div>
                        </li>
                    </transition-group>
                </draggable>
            </div>

            <div class="period-fees-container box-container">
                <h3 class="title">当期费用</h3>
                <draggable element="div" @change="changeFee" v-bind:options="{group:{name:'feeObj',put:['feeObj','fee-tool','eventObj']}}" v-model="PeriodDetail.Fees">
                    <transition-group name="flip-list" class="period-fees-ul fees-sortable-box sortable-box" tag="ul">
                        <div v-show="!PeriodDetail.Fees.length" v-bind:key="PeriodDetail.Fees.length">暂无费用</div>
                        <li v-for="(d,index) in PeriodDetail.Fees" v-bind:key="index" v-bind:class="d.status=='发生且兑付'?'greenEX':'orEX'">
                            <div class="layerbf">
                                <span style="cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" v-bind:title="d.TrustFeeDisplayName">{{d.TrustFeeDisplayName}}</span>
                                <button type="button" class="removeScenario edit-btn" @click="editFees(d.TrustFeeName, d.TrustFeeDisplayName)" title="编辑" style="margin-left:auto;color:rgba(69,86,156,1);margin-right:8px;font-size:16px;"><i class="icon icon-edit"></i></button>
                                <button type="button" class="removeScenario cancel-btn" @click="deletFee(d.TrustFeeName, d.TrustFeeDisplayName)" title="删除" style="color:rgb(188, 40, 31);font-size:14px"><i class="icon icon-remove"></i></button>
                            </div>
                            <span v-bind:class="d.status=='发生且兑付'?'greenC':'orc'" style="font-size:12px">{{d.status}}</span>
                        </li>
                    </transition-group>
                </draggable>
            </div>

            <div class="period-events-container box-container">
                <h3 class="title">事件</h3>
                <!--<draggable element="div" @change="changeEvent" v-bind:options="{group:{name:'eventObj'}}" v-model="PeriodDetail.Events">
                    <transition-group name="flip-list" class="period-events sortable-box event-sortable-box" tag="ul">
                        <div v-if="!PeriodDetail.Events.length" v-bind:key="PeriodDetail.Events.length">请从事件工具栏里拖拽事件到此处</div>
                        <li v-for="(d,index) in PeriodDetail.Events" v-on:dblclick="editEvent(index)" v-bind:key="index">
                            <span>{{d}}</span><i v-on:click="RemoveEvent(d)" class="close">X</i>
                        </li>
                    </transition-group>
                </draggable>-->

                <transition-group name="flip-list" class="period-events sortable-box event-sortable-box" tag="ul">
                    <div v-show="!PeriodDetail.Events.length" v-bind:key="PeriodDetail.Events.length">暂无事件</div>
                    <li v-for="(d,index) in PeriodDetail.Events" v-bind:key="index" v-bind:class="{active_event:d.EventStatus!='N'}">
                        <span>{{d.ScenarioName}}:{{d.ItemAliasValue}}</span>
                    </li>
                </transition-group>
            </div>

            <div class="period-scenario-container box-container">
                <h3 class="title">偿付情景</h3>
                <!--<div class="payment-scenario left" v-for="(s,index) in PeriodDetail.Scenarios" v-bind:data-index="index">
                    <h4>{{s.ScenarioName}} <span class="scenario-edit"><span @click="UpdateScenario(s)">保存</span><span @click="editScenarios(s)">编辑</span> </span></h4>
                    <div style ="width:100%;max-height:250px;overflow:auto;">
                        <table>
                            <thead>
                                <tr>
                                    <td title="序号" width="13%">序号</td>
                                    <td title="债券费用元素" width="87%">债券费用元素</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(level,index) in s.ScenarioInfo">
                                    <td style="text-align:center;">
                                        {{level.id}}
                                    </td>
                                    <td>
                                        <draggable element="div" v-bind:options="{group:{name:'feeObj'}}" v-model="level.elements" @change="changeScenior" v-bind:component-data="{index:index}">
                                            <transition-group name="flip-list" class="payment-scenario-ul fees-sortable-box sortable-box" tag="ul">
                                                <li style="width:0;height:0;overflow:hidden;border:none;padding:0;margin:0;"><span></span></li>
                                                <li v-for="(item,index) in level.elements" v-bind:key="index"><span class="fee">{{item.DisplayName}}</span><i class="close">X</i></li>
                                            </transition-group>
                                        </draggable>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>-->
                <ul class="period-fees-ul sortable-box">
                    <li v-for="(s,index) in PeriodDetail.Scenarios" @click="openScenior(s)" style="width:auto"><span>{{s.ScenarioName}}</span></li>
                </ul>
            </div>

        </div>


        <div class="tool-container tool-right">
            <div class="fees-tool tool" style="display:none">
                <h3>费用工具栏</h3>
                <draggable element="div" v-bind:options="{group:{name:'feeObj',pull:'clone',revertClone: true}}" v-model="AllFees">
                    <transition-group name="flip-list" class="fees-list list connectSort" tag="ul">
                        <li v-for="(feeType,index) in AllFees" data-index="index" v-bind:key="feeType.DisplayName">
                            <span>{{feeType.DisplayName}}</span>
                        </li>
                    </transition-group>
                </draggable>

                <span class="arrow" ref="arrow">费用工具栏</span>
            </div>
            <div class="event-tool tool" style="display:none;">
                <h3>事件工具栏</h3>
                <draggable element="div" v-bind:options="{group:{name:'eventObj',pull:'clone',revertClone: true}}" v-model="AllEvents">
                    <transition-group name="flip-list" class="event-list list" tag="ul">
                        <li v-for="(e,index) in AllEvents" v-bind:data-index=index v-bind:key="e">
                            <span>{{e.EventDescription}}{{index}}</span>
                        </li>
                    </transition-group>
                </draggable>
                <span class="arrow" ref="arrow">事件工具栏</span>
            </div>

            <div class="scenario-container tool Scenario-Toolbox-Empty" style="display:none;">
                <h3>偿付情景工具栏</h3>
                <div class="form-control2">
                    <label>情景名称:</label>
                    <input type="text" v-model="ScenarioDetail.ScenarioName" required="required" />
                </div>
                <div class="form-control2">
                    <label>起始时间:</label>
                    <!--<input type="date" v-model="ScenarioDetail.StartDate" />~
                    <input type="date" v-model="ScenarioDetail.EndDate" />-->
                    <select class="selects" v-model="ScenarioDetail.StartDate">
                        <option v-for="item in periodStartOptions" v-bind:value="item.value">{{item.text}}</option>
                    </select>
                </div>
                <div class="form-control2">
                    <label>终止时间:</label>
                    <select class="selects" v-model="ScenarioDetail.EndDate">
                        <option v-for="item in periodEndOptions" v-bind:value="item.value">{{item.text}}</option>
                    </select>
                </div>
                <!--<div class="form-control2 date-input">
                    <label>起止时间:</label>
                    <input type="date" v-model="ScenarioDetail.StartDate" />~
                    <input type="date" v-model="ScenarioDetail.EndDate" />
                </div>-->
                <div class="form-control2">
                    <label>本金精度:</label>
                    <input type="number" v-model="ScenarioDetail.PrincipalPrecision" />
                </div>
                <div class="form-control2">
                    <label>利息精度:</label>
                    <input type="number" v-model="ScenarioDetail.InterestPrecision" />
                </div>
                <div class="form-control2 check-input">
                    <label>收入账结余是否转入本金账:</label>
                    <input type="checkbox" v-model="ScenarioDetail.AllowInterestToPrincipal" />
                </div>
                <div>
                    <button type="button" @click="AddNewScenario">新建</button>
                    <button type="button" @click="InitDialogDetail">取消</button>
                </div>
                <span class="arrow" ref="arrow">偿付情景工具栏</span>
            </div>
        </div>
        <!--编辑的抽屉-->
        <div id="dialog-FeeDetail">
            <div class="ant-drawer-bottom ant-drawer">
                <div class="ant-drawer-mask"></div>
                <div class="ant-drawer-content-wrapper">
                    <div class="titlestyle">
                        <span>{{FeeDetail.DisplayName}}</span><i class="icon icon-close" style="cursor:pointer;float:right;padding-right: 10px;" id="closebox" @click="closebox"></i>
                    </div>
                    <div style="padding:15px;">
                        <div style="display:flex;flex-wrap:wrap;">
                            <div v-for="(param,$index) in FeeDetail.Parameters" class="fee-input-group" v-if="param.Name.indexOf('Fee_PayFrequence')<0 && param.Name.indexOf('Fee_CashingFrequency')<0 && param.Name.indexOf('Fee_IsEffective')<0 && param.Name.indexOf('Formula_Fee_Formula')<0">
                                <!-- ko if: ItemCode().indexOf("Fee_PayFrequence")<0 && ItemCode().indexOf("Fee_CashingFrequency")<0-->
                                <label class="form-label">{{param.DisplayName}}</label>
                                <input v-if="!param.DataSourceName" type="text" v-model="param.ItemValue" class="form-content" @keyup="Trousht($event,$index)" />
                                <select v-else v-model="param.ItemValue" class="form-content">
                                    <option v-for="option in FeeDataSources[param.DataSourceName]" v-bind:value="option.Value">{{option.Title}}</option>
                                </select>
                            </div>
                            <!--渲染公式-->
                            <div class="FormulaArea" v-if="FeeDetail.FeeType=='Formular'">
                                <div class="FStitle"><span class="fino">计算公式</span><span class="cr">提示：点击下面条件至组合区域进行组合。注意公式格式: 例：计费基准*税率/（1+税率）+税费*（城建税率+教育税率+地方教育税率）</span></div>
                                <div class="changeArea">
                                    <div class="changeTab">
                                        <div class="headers">
                                            <ul class="changetabs">
                                                <li class="active" value="1" @click="changeLi($event)">计费基准</li>
                                                <li value="2" @click="changeLi($event)">计息期间</li>
                                            </ul>
                                        </div>

                                        <div class="FeeBase">
                                            <div class="elements" v-for="(FeeBase,$index) in FeeDataSources.FeeBase" v-bind:title="FeeBase.Title" v-bind:value="FeeBase.Value" @click="AddElement(FeeBase,$event)"><span>{{FeeBase.Title}}</span></div>
                                        </div>
                                        <div class="PeriodBase">
                                            <div class="elements" v-for="(PeriodBase,$index) in FeeDataSources.PeriodBase" v-bind:title="PeriodBase.Title" v-bind:value="PeriodBase.Value" @click="AddElement(PeriodBase,$event)"><span>{{PeriodBase.Title}}</span></div>
                                        </div>
                                    </div>
                                    <div class="showArea">
                                        <div class="showtitle">
                                            <div class="tilteLeft">
                                                <div class="headers ht">
                                                    <span style="color:#45569C;font-size:14px">数字选择</span>
                                                </div>
                                                <div style="width:100%;display:flex;padding-left:10px;overflow:hidden">
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>1</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>2</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>3</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>4</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>5</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>6</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>7</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>8</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>9</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>0</span>
                                                    </div>
                                                    <div class="operators Numbers" @click="AddNumber($event)">
                                                        <span>.</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="titlemiddle">
                                                <div class="headers ht">
                                                    <span style="color:#45569C;font-size:14px">特殊符号</span>
                                                </div>
                                                <div style="width:100%;display:flex;padding-left:10px;overflow:hidden">
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>+</span>
                                                    </div>
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>-</span>
                                                    </div>
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>*</span>
                                                    </div>
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>/</span>
                                                    </div>
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>(</span>
                                                    </div>
                                                    <div class="operators Special" @click="AddOperator($event)">
                                                        <span>)</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="titleRight">
                                                <div class="headers ht">
                                                    <span style="color:#45569C;font-size:14px">操作符</span>
                                                </div>
                                                <div style="width:100%;display:flex;padding-left:10px;overflow:hidden">
                                                    <div class="operators strings" @click="Addstrings($event)">
                                                        <span>Round</span>
                                                    </div>
                                                    <div class="operators strings" @click="Addstrings($event)">
                                                        <span>RoundUp</span>
                                                    </div>
                                                    <div class="operators strings" @click="Addstrings($event)">
                                                        <span>RoundDown</span>
                                                    </div>
                                                    <div class="operators strings" @click="Addstrings($event)">
                                                        <span>,</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--渲染添加区域-->
                                        <div class="DisplayArea" v-for="(param,$index) in FeeDetail.Parameters" v-if="param.ParameterInputType=='assembly'">
                                            <div class="dis" style="height:90px;overflow:auto;padding-bottom:0;box-sizing: border-box;" v-bind:html="ReturnDom"></div>
                                            <div class="btn btn-danger  goback" @click="GoBack($event)">回退</div>
                                            <div class="btn btn-danger  clearArea" @click="clearArea($event)">清除</div>
                                        </div>
                                        <div class="resultArea" v-for="(param,$index) in FeeDetail.Parameters" v-if="param.ParameterInputType=='assembly'" style="padding:0px;padding-top:5px;box-sizing: border-box;">
                                            <div class="res" v-bind:html="ReturnStr" style="padding-bottom:0;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div style="width:100%;text-align:center;position:absolute;bottom:50px">
                        <button class="btn btn-primary" id="UpDate" @click="updateFee(FeeDetail)">更新</button>
                    </div>
                </div>
            </div>
        </div>
        <!--End-->
        <!--当期分层信息抽屉-->
        <div id="dialog-ClassStructureDetail">
            <div class="ant-drawer-bottom ant-drawer">
                <div class="ant-drawer-mask"></div>
                <div class="ant-drawer-content-wrapper">
                    <div class="titlestyle">
                        <span>{{ updateEachTrustBondLayerTitle }}</span><i class="icon icon-close" style="cursor:pointer;float:right;padding-right: 10px;" @click="closebox"></i>
                    </div>
                    <div style="padding:15px;">
                        <div style="display:flex;flex-wrap:wrap;">
                            <div v-for="(label, index) in ClassStructureLabels" class="fee-input-group" v-show="label.value!=''">
                                <div v-if="label.type=='select'">
                                    <label class="form-label col-md-5">{{label.name}}</label>
                                    <select class="form-content form-control" style="width: 48%; margin-right: 2px;" v-model="editingBondModel[index]">
                                        <option value="0">Round</option>
                                        <option value="1">RoundUp</option>
                                        <option value="2">RoundDown</option>
                                    </select>
                                </div>
                                <div v-else-if="label.type=='number'" v-show="label.value!=''">
                                    <label class="form-label col-md-5">{{label.name}}</label>
                                    <input type="number" class="form-content form-control col-md-5" style="width: 48%; margin-right: 2px;" v-model="editingBondModel[index]" v-bind:class="{'inputTip':(typeof(editingBondModel[index])!='undefined'&&!editingBondModel[index]&&!(/^\d+$/.test(editingBondModel[index])))}" />
                                    <div class="col-md-2" v-show="label.name == '深交所专用（本金精度）' || label.name == '深交所专用（利息精度）'" data-toggle="tooltip" data-placement="bottom" title="此项设置仅针对深圳证券交易所产品有效" style="padding:0px 5px">
                                        <i class="icon icon-help" style="display: block;color:rgba(69,86,156,1);cursor:pointer;line-height: 26px;font-size: 16px;"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="width:100%;text-align:center;position:absolute;bottom:50px">
                        <button class="btn btn-primary" id="UpDate" @click="updateEachTrustBondLayer">更新</button>
                    </div>
                </div>
            </div>
        </div>
        <!--End-->

        <div class="hidden">
            <div id="dialog-EventDetail">
                <h4>{{EventDetail.EventDescription}}</h4>
                <div class="form-control">
                    <label>比较符</label>
                    <select v-model="EventDetail.Operator">
                        <option value="NA">请选择</option>
                        <option value=">">&gt;</option>
                        <option value=">=">&ge;</option>
                        <option value="=">=</option>
                        <option value="<">&lt;</option>
                        <option value="<=">&le;</option>
                    </select>
                </div>
                <div class="form-control">
                    <label>阈值</label>
                    <input type="number" v-model="EventDetail.Threshold" required="required" />
                </div>
            </div>
            <div id="dialog-ScenarioDetail">
                <h3>偿付情景工具栏</h3>
                <div class="form-control2">
                    <label>情景名称:</label>
                    <input type="text" v-model="ScenarioDetail.ScenarioName" required="required" />
                </div>
                <div class="form-control2">
                    <label>起始时间:</label>
                    <!--<input type="date" v-model="ScenarioDetail.StartDate" />~
                    <input type="date" v-model="ScenarioDetail.EndDate" />-->
                    <select class="selects" v-model="ScenarioDetail.StartDate">
                        <option v-for="item in periodStartOptions" v-bind:value="item.value">{{item.text}}</option>
                    </select>
                </div>
                <div class="form-control2">
                    <label>终止时间:</label>
                    <select class="selects" v-model="ScenarioDetail.EndDate">
                        <option v-for="item in periodEndOptions" v-bind:value="item.value">{{item.text}}</option>
                    </select>
                </div>
                <div class="form-control2">
                    <label>本金精度:</label>
                    <input type="number" v-model="ScenarioDetail.PrincipalPrecision" />
                </div>
                <div class="form-control2">
                    <label>利息精度:</label>
                    <input type="number" v-model="ScenarioDetail.InterestPrecision" />
                </div>
                <div class="form-control2 check-input">
                    <label>收入账结余是否转入本金账:</label>
                    <input type="checkbox" v-model="ScenarioDetail.AllowInterestToPrincipal" />
                </div>
                <div>
                    <button type="button" @click="UpdateScenario_Full(ScenarioDetail)">更新</button>
                    <button type="button" @click="RemoveScenario(ScenarioDetail)">删除</button>
                    <button type="button" @click="editScenarioCancel(ScenarioDetail)">取消</button>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
