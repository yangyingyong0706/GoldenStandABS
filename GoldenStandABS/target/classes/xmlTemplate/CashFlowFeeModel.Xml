<Tool Name="CashFlowFeeModel">
  <Actions>
    <Action ActionCode="NewValueAddedTax_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="新增值税" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_NewValueAddedTax_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="NewValueAddedTax_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="NewValueAddedTax_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="新增值税实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_NewValueAddedTax_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="NewValueAddedTax_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="NewValueAddedTax_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="新增值税预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_NewValueAddedTax_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="NewValueAddedTax_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="NewValueAddedTax_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="新增值税累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_NewValueAddedTax_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="NewValueAddedTax_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="ValueAddedTax_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="增值税" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ValueAddedTax_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ValueAddedTax_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="ValueAddedTax_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="增值税实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ValueAddedTax_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ValueAddedTax_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="ValueAddedTax_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="增值税预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ValueAddedTax_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ValueAddedTax_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="ValueAddedTax_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="增值税累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ValueAddedTax_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ValueAddedTax_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="BusinessTaxeAndAdditional_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="营业税金及附加" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="15">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BusinessTaxeAndAdditional_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BusinessTaxeAndAdditional_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="BusinessTaxeAndAdditional_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="营业税金及附加实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BusinessTaxeAndAdditional_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BusinessTaxeAndAdditional_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="BusinessTaxeAndAdditional_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="营业税金及附加预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BusinessTaxeAndAdditional_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BusinessTaxeAndAdditional_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="BusinessTaxeAndAdditional_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="营业税金及附加累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BusinessTaxeAndAdditional_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BusinessTaxeAndAdditional_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetService_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(固定)" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="2">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetService_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetService_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetService_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(固定)实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetService_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetService_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetService_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(固定)预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetService_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetService_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetService_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(固定)累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetServiceFloat_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(浮动)" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="2">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceFloat_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceFloat_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetServiceFloat_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(浮动)实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceFloat_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceFloat_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetServiceFloat_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(浮动)预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceFloat_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceFloat_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetServiceFloat_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(浮动)累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceFloat_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceFloat_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetServiceMatrix_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(矩阵型费率)" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="2">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceMatrix_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceMatrix_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetServiceMatrix_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(矩阵型费率)实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceMatrix_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceMatrix_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetServiceMatrix_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(矩阵型费率)预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceMatrix_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceMatrix_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="AssetServiceMatrix_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="贷款服务机构报酬(矩阵型费率)累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetServiceMatrix_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetServiceMatrix_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Custodian_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="保管机构报酬" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="3">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Custodian_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Custodian_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Custodian_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="保管机构报酬实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Custodian_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Custodian_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Custodian_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="保管机构报酬预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Custodian_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Custodian_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Custodian_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="保管机构报酬累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Custodian_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Custodian_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="ScrutinyAccount_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="监管机构报酬" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="5">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ScrutinyAccount_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ScrutinyAccount_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="ScrutinyAccount_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="监管机构报酬实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ScrutinyAccount_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ScrutinyAccount_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="ScrutinyAccount_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="监管机构报酬预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ScrutinyAccount_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ScrutinyAccount_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="ScrutinyAccount_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="监管机构报酬累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ScrutinyAccount_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ScrutinyAccount_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TrusteeRemuneration_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="受托机构报酬" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="6">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeRemuneration_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeRemuneration_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrusteeRemuneration_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="受托机构报酬实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeRemuneration_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeRemuneration_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrusteeRemuneration_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="受托机构报酬预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeRemuneration_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeRemuneration_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TrusteeRemuneration_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="受托机构报酬累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeRemuneration_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeRemuneration_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="InitialRating_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="初始评级费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRating_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRating_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="InitialRating_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="初始评级费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRating_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRating_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="InitialRating_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="初始评级费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRating_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRating_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="InitialRating_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="初始评级费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRating_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRating_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="UnderWriting_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="承销费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_UnderWriting_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="UnderWriting_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="UnderWriting_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="承销费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_UnderWriting_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="UnderWriting_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="UnderWriting_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="承销费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_UnderWriting_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="UnderWriting_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="UnderWriting_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="承销费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_UnderWriting_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="UnderWriting_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Lawyer_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="律师费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Lawyer_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Lawyer_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Lawyer_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="律师费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Lawyer_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Lawyer_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Lawyer_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="律师费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Lawyer_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Lawyer_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Lawyer_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="律师费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Lawyer_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Lawyer_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="InitialRegistration_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="初始发行登记费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="11">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRegistration_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRegistration_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="InitialRegistration_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="初始发行登记费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRegistration_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRegistration_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="InitialRegistration_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="初始发行登记费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRegistration_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRegistration_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="InitialRegistration_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="初始发行登记费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRegistration_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRegistration_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="LegalService_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="法律服务费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="12">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_LegalService_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="LegalService_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="LegalService_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="法律服务费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_LegalService_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="LegalService_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="LegalService_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="法律服务费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_LegalService_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="LegalService_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="LegalService_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="法律服务费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_LegalService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="LegalService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Accounting_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="会计费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="13">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Accounting_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Accounting_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Accounting_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="会计费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Accounting_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Accounting_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Accounting_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="会计费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Accounting_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Accounting_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Accounting_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="会计费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Accounting_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Accounting_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TaxConsultant_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="税务顾问费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="14">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxConsultant_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxConsultant_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TaxConsultant_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="税务顾问费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxConsultant_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxConsultant_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TaxConsultant_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="税务顾问费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxConsultant_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxConsultant_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TaxConsultant_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="税务顾问费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxConsultant_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxConsultant_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="FinancialAdvisor_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="财务顾问费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_FinancialAdvisor_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="FinancialAdvisor_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="FinancialAdvisor_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="财务顾问费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_FinancialAdvisor_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="FinancialAdvisor_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="FinancialAdvisor_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="财务顾问费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_FinancialAdvisor_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="FinancialAdvisor_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="FinancialAdvisor_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="财务顾问费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_FinancialAdvisor_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="FinancialAdvisor_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TransferFund_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="划款手续费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="16">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TransferFund_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TransferFund_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TransferFund_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="划款手续费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TransferFund_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TransferFund_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TransferFund_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="划款手续费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TransferFund_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TransferFund_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TransferFund_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="划款手续费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TransferFund_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TransferFund_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Audit_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="审计费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="17">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Audit_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Audit_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Audit_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="审计费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Audit_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Audit_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Audit_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="审计费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Audit_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Audit_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Audit_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="审计费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Audit_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Audit_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TrackingRating_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="跟踪评级费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="18">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrackingRating_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrackingRating_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrackingRating_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="跟踪评级费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrackingRating_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrackingRating_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrackingRating_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="跟踪评级费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrackingRating_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrackingRating_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="TrackingRating_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="跟踪评级费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrackingRating_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrackingRating_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="DefaultRecovery_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="违约回收执行费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="19">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_DefaultRecovery_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="DefaultRecovery_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="DefaultRecovery_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="违约回收执行费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_DefaultRecovery_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="DefaultRecovery_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="DefaultRecovery_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="违约回收执行费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_DefaultRecovery_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="DefaultRecovery_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="DefaultRecovery_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="违约回收执行费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_DefaultRecovery_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="DefaultRecovery_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="CentralTransfer_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="银登中心转让费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="19">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CentralTransfer_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CentralTransfer_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="CentralTransfer_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="银登中心转让费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CentralTransfer_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CentralTransfer_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="CentralTransfer_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="银登中心转让费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CentralTransfer_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CentralTransfer_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="CentralTransfer_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="银登中心转让费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CentralTransfer_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CentralTransfer_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="BaseService_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="基本服务费" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BaseService_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BaseService_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="BaseService_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="基本服务费实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BaseService_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BaseService_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="BaseService_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="基本服务费预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BaseService_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BaseService_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="BaseService_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="基本服务费累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BaseService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BaseService_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Other_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="其他费用" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="19">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Other_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Other_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Other_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="其他费用实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Other_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Other_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Other_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="其他费用预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Other_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Other_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Other_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="其他费用累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Other_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Other_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>

    <!-- 保管银行利息-->
    <Action ActionCode="CustodyBank_Interest_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="保管银行利息" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="20">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CustodyBank_Interest_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CustodyBank_Interest_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="CustodyBank_Interest_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="保管银行利息实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CustodyBank_Interest_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CustodyBank_Interest_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="CustodyBank_Interest_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="保管银行利息提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CustodyBank_Interest_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CustodyBank_Interest_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="CustodyBank_Interest_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="保管银行利息累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_CustodyBank_Interest_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CustodyBank_Interest_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Formula_Fee_#Id#" ModelType="FeeDue" ActionDisplayName="公式型费用" IsUIRequired="true" FunctionName="RunManagedMethodByPath" SequenceNo="3">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Formula_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Formula_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Formula_Fee_#Id#_Paid" ModelType="FeeDue" ActionDisplayName="公式型费用实付" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Formula_Fee_#Id#_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Formula_Fee_#Id#_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="Formula_Fee_#Id#_Accrued" ModelType="FeeDue" ActionDisplayName="公式型费用预提取" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Formula_Fee_#Id#_Accrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Formula_Fee_#Id#_Accrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
    <Action ActionCode="Formula_Fee_#Id#_AccumulateAccrued" ModelType="FeeDue" ActionDisplayName="公式型费用累积计提下期" IsUIRequired="false" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Formula_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Formula_Fee_#Id#_AccumulateAccrued" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
  </Actions>
  <Methods>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TrackingRating_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrackingRating_Fee_#Id#" MethodDisplayName="按固定值"  FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("TrackingRating_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrackingRating_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["TrackingRating_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["TrackingRating_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TrackingRating_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="DefaultRecovery_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_DefaultRecovery_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("DefaultRecovery_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["DefaultRecovery_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["DefaultRecovery_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["DefaultRecovery_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["DefaultRecovery_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount: Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Other_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Other_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("Other_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Other_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["Other_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["Other_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Other_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount: Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Audit_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Audit_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("Audit_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Audit_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["Audit_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["Audit_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Audit_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TransferFund_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TransferFund_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("TransferFund_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TransferFund_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["TransferFund_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["TransferFund_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TransferFund_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TaxConsultant_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TaxConsultant_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("TaxConsultant_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TaxConsultant_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["TaxConsultant_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["TaxConsultant_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TaxConsultant_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount: Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Accounting_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Accounting_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("Accounting_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Accounting_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["Accounting_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["Accounting_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Accounting_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="LegalService_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_LegalService_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("LegalService_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["LegalService_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["LegalService_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["LegalService_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["LegalService_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="InitialRegistration_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_InitialRegistration_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("InitialRegistration_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["InitialRegistration_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["InitialRegistration_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["InitialRegistration_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["InitialRegistration_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Lawyer_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Lawyer_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("Lawyer_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Lawyer_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["Lawyer_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["Lawyer_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Lawyer_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="UnderWriting_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_UnderWriting_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("UnderWriting_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["UnderWriting_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["UnderWriting_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["UnderWriting_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["UnderWriting_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="InitialRating_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_InitialRating_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("InitialRating_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["InitialRating_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["InitialRating_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["InitialRating_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["InitialRating_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TaxAccount_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxAccount_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TaxAccount_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("TaxAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TaxAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["TaxAccount_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["TaxAccount_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TaxAccount_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TrusteeRemuneration_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>

        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrusteeRemuneration_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("TrusteeRemuneration_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrusteeRemuneration_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["TrusteeRemuneration_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["TrusteeRemuneration_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["TrusteeRemuneration_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["TrusteeRemuneration_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["TrusteeRemuneration_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TrusteeRemuneration_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="ScrutinyAccount_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_ScrutinyAccount_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("ScrutinyAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["ScrutinyAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["ScrutinyAccount_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["ScrutinyAccount_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["ScrutinyAccount_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["ScrutinyAccount_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round(  (Fee_Ratio / 100.00 ) * Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["ScrutinyAccount_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["ScrutinyAccount_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="TrusteeAccount_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeAccount_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrusteeAccount_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays/Fee_AnnualDays" >
        ToBePaid=sContextArray.Keys.Contains("TrusteeAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrusteeAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["TrusteeAccount_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["TrusteeAccount_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["TrusteeAccount_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["TrusteeAccount_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round(  (Fee_Ratio / 100.00) * Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["TrusteeAccount_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["TrusteeAccount_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Custodian_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Custodian_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Parameterized"  Formula= "Fee_Base*Fee_Ratio*Fee_CalculatedDays/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("Custodian_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Custodian_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["Custodian_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["Custodian_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["Custodian_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["Custodian_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["Custodian_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Custodian_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="AssetService_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Percent" SessionParameterName="" SessionParameterDisplayName="支付比例(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_Percent_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetService_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间*支付比例/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays*Fee_Percent/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("AssetService_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["AssetService_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["AssetService_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["AssetService_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["AssetService_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["AssetService_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        Fee_Percent=double.Parse(sContextArray["AssetService_Fee_Percent_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base*Fee_CalculatedDays * (Fee_Percent / 100.00) /Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["AssetService_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["AssetService_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="AssetServiceFloat_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Percent" SessionParameterName="" SessionParameterDisplayName="支付比例(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_Percent_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetServiceFloat_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间*支付比例/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays*Fee_Percent/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("AssetServiceFloat_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["AssetServiceFloat_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["AssetServiceFloat_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["AssetServiceFloat_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["AssetServiceFloat_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_AnnualDays=double.Parse(sContextArray["AssetServiceFloat_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        Fee_Percent=double.Parse(sContextArray["AssetServiceFloat_Fee_Percent_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base*Fee_CalculatedDays * (Fee_Percent / 100.00) /Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["AssetServiceFloat_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["AssetServiceFloat_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="ValueAddedTax_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio_Add" SessionParameterName="" SessionParameterDisplayName="附加税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_Ratio_Add_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计税基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_ValueAddedTax_Fee_#Id#" MethodDisplayName="税率*计税基准*（1+附加率）/（1+税率）" FeeType = "Parameterized"  Formula = "Fee_Ratio*Fee_Base*(1+Fee_Ratio_Add)/(1+Fee_Ratio)">
        ToBePaid=sContextArray.Keys.Contains("ValueAddedTax_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["ValueAddedTax_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["ValueAddedTax_Fee_Base_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["ValueAddedTax_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_Ratio_Add=double.Parse(sContextArray["ValueAddedTax_Fee_Ratio_Add_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( Fee_Base* (Fee_Ratio / 100.00) * (1+ (Fee_Ratio_Add / 100.00)) /(1 + (Fee_Ratio / 100.00) ) , 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["ValueAddedTax_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["ValueAddedTax_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="BusinessTaxeAndAdditional_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计税基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_BusinessTaxeAndAdditional_Fee_#Id#" MethodDisplayName="税率*计税基准" FeeType = "Parameterized"  Formula = "Fee_Ratio*Fee_Base">
        ToBePaid=sContextArray.Keys.Contains("BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["BusinessTaxeAndAdditional_Fee_Base_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["BusinessTaxeAndAdditional_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base, 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["BusinessTaxeAndAdditional_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["BusinessTaxeAndAdditional_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>


    <!--保管银行利息-->
    <main>
      <Parameters>
        <!--<Parameter Name="Fee_InitialDueAmount" SessionParameterName="CustodyBank_Interest_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />-->
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashFlowDirection" SessionParameterName="" SessionParameterDisplayName="是否为收入项*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_CashFlowDirection_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestRate" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestRatio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestBase" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="BasedOnPrincipalInterestCollection" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestBase_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>

        <Parameter Name="InterestStartDay" SessionParameterName="" SessionParameterDisplayName="计费起始日(距离计算日后)" ParameterInputType="decimal" DataSourceName="" IsUIRequired="true" Value="5" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestStartDay_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>

        <Parameter Name="InterestStartDayType" SessionParameterName="" SessionParameterDisplayName="计息起始日类型" ParameterInputType="select" DataSourceName="DateType" IsUIRequired="true" Value="WorkingDay" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestStartDayType_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>

        <Parameter Name="InterestEndDay" SessionParameterName="" SessionParameterDisplayName="计费截止日(距离兑付日前)" ParameterInputType="decimal" DataSourceName="" IsUIRequired="true" Value="-1" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestEndDay_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>

        <Parameter Name="InterestEndDayType" SessionParameterName="" SessionParameterDisplayName="计息截止日类型" ParameterInputType="select" DataSourceName="DateType" IsUIRequired="true" Value="CalendarDay" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestEndDayType_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>


        <Parameter Name="InterestDavsBasis" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365/366)*" ParameterInputType="select" DataSourceName="DatumDays" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestDaysBasis_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaidDay" SessionParameterName="" SessionParameterDisplayName="结息日" ParameterInputType="decimal" DataSourceName="" IsUIRequired="true" Value="20" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_ToBePaidDay_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestCalculationFrequency" SessionParameterName="" SessionParameterDisplayName="计算频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestCaculationFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestRateCalculation" SessionParameterName="" SessionParameterDisplayName="计息方式" ParameterInputType="select" DataSourceName="InterestRate" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestRateCalculation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaidFrequency" SessionParameterName="" SessionParameterDisplayName="结息频率(期)*" ParameterInputType="decimal" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_ToBePaidFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaidFrequencyStyle" SessionParameterName="" SessionParameterDisplayName="是否按自然方式" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_ToBePaidFrequencyStyle_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>

        <Parameter Name="InterestCaculationPeriodBase" SessionParameterName="" SessionParameterDisplayName="计息期间起始基准日" ParameterInputType="HideBox" DataSourceName="PeriodBaeType" IsUIRequired="true" Value="PoolCloseDate" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestCaculationPeriodBase_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestStartDateBase" SessionParameterName="" SessionParameterDisplayName="计息起始日基准" ParameterInputType="HideBox" DataSourceName="InterestPeriod" IsUIRequired="true" Value="CollectionDate" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestStartDateBase_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="InterestEndDateBase" SessionParameterName="" SessionParameterDisplayName="计息结束日基准" ParameterInputType="HideBox" DataSourceName="InterestPeriod" IsUIRequired="true" Value="PaymentDate" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_InterestEndDateBase_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>



      </Parameters>
      <Query name="EC_CustodyBank_Interest_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Parameterized"  Formula = "InterestBase*InterestRatio*(InterestEndDay-InterestStartDay)/InterestDaysBasis">
        var ie = (CustodyBankInterestElement) IntesetElementFactory.GenerateElement( "CustodyBank","CustodyBank_Interest_Fee_#Id#", CurrentPosition, ref sContext, ref sContextArray);

        return ie.CalculateDueInterest(CurrentPosition,ref sContext, ref sContextArray);

      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Other_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TrackingRating_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Audit_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TransferFund_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TaxConsultant_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Accounting_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_LegalService_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_InitialRegistration_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Lawyer_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_UnderWriting_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_InitialRating_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TaxAccount_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TrusteeRemuneration_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_CustodyBank_Interest_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_ScrutinyAccount_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TrusteeAccount_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Custodian_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetService_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetServiceFloat_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_BusinessTaxeAndAdditional_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_ValueAddedTax_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_DefaultRecovery_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="FinancialAdvisor_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_FinancialAdvisor_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("FinancialAdvisor_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["FinancialAdvisor_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["FinancialAdvisor_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["FinancialAdvisor_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["FinancialAdvisor_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_FinancialAdvisor_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="CentralTransfer_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额(元)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_Value_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_CentralTransfer_Fee_#Id#" MethodDisplayName="按固定值" FeeType = "Parameterized"  Formula = "Fee_Value">
        ToBePaid=sContextArray.Keys.Contains("CentralTransfer_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["CentralTransfer_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        Fee_Value=double.Parse(sContextArray["CentralTransfer_Fee_Value_#Id#"][CurrentPosition.ToString()]);
        PayLimitation=sContextArray["CentralTransfer_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["CentralTransfer_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount: Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_CentralTransfer_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_ValueAddedTax_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="ValueAddedTax_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ValueAddedTax_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_ValueAddedTax_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_BusinessTaxeAndAdditional_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="BusinessTaxeAndAdditional_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BusinessTaxeAndAdditional_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_BusinessTaxeAndAdditional_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TrusteeRemuneration_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_CustodyBank_Interest_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="TrusteeRemuneration_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrusteeRemuneration_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrusteeRemuneration_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
        <!--<Parameter Name="InitialAccrued" SessionParameterName="CustodyBank_Interest_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />-->
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CustodyBank_Interest_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_CustodyBank_Interest_Fee_#Id#_AccumulateAccrued">
        return 0;
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Custodian_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Custodian_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Custodian_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Custodian_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetServiceFloat_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="AssetServiceFloat_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceFloat_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetServiceFloat_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetService_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="AssetService_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetService_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetService_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_ScrutinyAccount_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="ScrutinyAccount_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="ScrutinyAccount_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_ScrutinyAccount_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_InitialRating_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="InitialRating_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRating_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_InitialRating_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_UnderWriting_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="UnderWriting_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="UnderWriting_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_UnderWriting_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Lawyer_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Lawyer_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Lawyer_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Lawyer_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_InitialRegistration_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="InitialRegistration_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InitialRegistration_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_InitialRegistration_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_LegalService_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="LegalService_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="LegalService_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_LegalService_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Accounting_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Accounting_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Accounting_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Accounting_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TaxConsultant_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="TaxConsultant_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TaxConsultant_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TaxConsultant_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_FinancialAdvisor_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="FinancialAdvisor_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="FinancialAdvisor_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_FinancialAdvisor_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TransferFund_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="TransferFund_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TransferFund_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TransferFund_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Audit_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Audit_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Audit_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Audit_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_TrackingRating_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="TrackingRating_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrackingRating_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrackingRating_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_DefaultRecovery_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="DefaultRecovery_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="DefaultRecovery_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_DefaultRecovery_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_CentralTransfer_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="CentralTransfer_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CentralTransfer_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_CentralTransfer_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Other_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Other_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Other_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Other_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_BaseService_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="BaseService_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_BaseService_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_BaseService_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="BaseService_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="BaseService_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_BaseService_Fee_#Id#" MethodDisplayName="计费基准*费率" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio">
        ToBePaid=sContextArray.Keys.Contains("BaseService_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["BaseService_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["BaseService_Fee_Base_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["BaseService_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( (Fee_Ratio / 100.00) * Fee_Base, 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["BaseService_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["BaseService_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="NewValueAddedTax_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio_Construction" SessionParameterName="" SessionParameterDisplayName="城建税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_Ratio_Construction_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio_Education" SessionParameterName="" SessionParameterDisplayName="教育税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_Ratio_Education_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio_LocalEducation" SessionParameterName="" SessionParameterDisplayName="地方教育税率(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_Ratio_LocalEducation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计税基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_NewValueAddedTax_Fee_#Id#" MethodDisplayName="计费基准*税率/（1+税率）+税费*（城建税率+教育税率+地方教育税率）" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio/(1+Fee_Ratio)+Fee_Base*Fee_Ratio/(1+Fee_Ratio)*(Fee_Ratio_Construction+Fee_Ratio_Education+Fee_Ratio_LocalEducation)">
        ToBePaid=sContextArray.Keys.Contains("NewValueAddedTax_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["NewValueAddedTax_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {
        String Base=sContextArray["NewValueAddedTax_Fee_Base_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_Ratio=double.Parse(sContextArray["NewValueAddedTax_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_Ratio_Construction=double.Parse(sContextArray["NewValueAddedTax_Fee_Ratio_Construction_#Id#"][CurrentPosition.ToString()]);
        Fee_Ratio_Education=double.Parse(sContextArray["NewValueAddedTax_Fee_Ratio_Education_#Id#"][CurrentPosition.ToString()]);
        Fee_Ratio_LocalEducation=double.Parse(sContextArray["NewValueAddedTax_Fee_Ratio_LocalEducation_#Id#"][CurrentPosition.ToString()]);
        double TaxFee_Value=Math.Round( Fee_Base* (Fee_Ratio / 100.00) /(1 + (Fee_Ratio / 100.00) ) , 2,MidpointRounding.AwayFromZero);
        //double Fee_Value=TaxFee_Value+Math.Round( TaxFee_Value* ((Fee_Ratio_Construction+ Fee_Ratio_Education+ Fee_Ratio_LocalEducation) / 100.00), 2,MidpointRounding.AwayFromZero);
        double Fee_Value=TaxFee_Value+Math.Round( TaxFee_Value* (Fee_Ratio_Construction / 100.00), 2,MidpointRounding.AwayFromZero)
        +Math.Round( TaxFee_Value* (Fee_Ratio_Education / 100.00),2,MidpointRounding.AwayFromZero)
        +Math.Round( TaxFee_Value* (Fee_Ratio_LocalEducation / 100.00), 2,MidpointRounding.AwayFromZero);
        PayLimitation=sContextArray["NewValueAddedTax_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["NewValueAddedTax_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_NewValueAddedTax_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_NewValueAddedTax_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="NewValueAddedTax_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="NewValueAddedTax_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_NewValueAddedTax_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="Formula_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Formula" SessionParameterName="" SessionParameterDisplayName="计算公式" ParameterInputType="assembly" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_Formula_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Formula_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/基准天数" FeeType = "Formular"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays/Fee_AnnualDays">
        ToBePaid=(sContextArray.Keys.Contains("Formula_Fee_ToBePaid_#Id#")&amp;&amp;sContextArray["Formula_Fee_ToBePaid_#Id#"].Keys.Contains(CurrentPosition.ToString())) ?double.Parse(sContextArray["Formula_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        string formulaStr = (sContextArray.Keys.Contains("Formula_Fee_Formula_#Id#")&amp;&amp;sContextArray["Formula_Fee_Formula_#Id#"].Keys.Contains(CurrentPosition.ToString())) ? sContextArray["Formula_Fee_Formula_#Id#"][CurrentPosition.ToString()].ToString():"0";
        double Fee_Value =  TrustFeeUtils.CaculateFormularFeeDue(CurrentPosition, ref sContext, ref sContextArray, formulaStr);

        Fee_Value = Math.Round(Fee_Value,2,MidpointRounding.AwayFromZero);
        if(ToBePaid==1)
        {
        PayLimitation=sContextArray["Formula_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["Formula_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;
        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }

      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Formula_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_Formula_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="Formula_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Formula_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Formula_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>

    <main>
      <Parameters>
        <Parameter Name="Fee_InitialDueAmount" SessionParameterName="AssetServiceMatrix_Fee_#Id#_InitialDueAmount" SessionParameterDisplayName="期初应付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="Fee_Leftover" SessionParameterName="" SessionParameterDisplayName="上期未付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_#Id#_Leftover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
        <Parameter Name="CumulativeDefaultRate" SessionParameterName="" SessionParameterDisplayName="累计违约率" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CumulativeDefaultRate">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_MatrixRatio" SessionParameterName="" SessionParameterDisplayName="费率矩阵*" ParameterInputType="select" DataSourceName="SP_usp_GetMatrixRateNameAndIdByTrustId" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_MatrixRatio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="默认费率%*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_Ratio_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_HorizontalBase" SessionParameterName="" SessionParameterDisplayName="矩阵基准（优先档债券利率）*" ParameterInputType="select" DataSourceName="SP_usp_GetBondCodeByTrustId" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_HorizontalBase_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准*" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_Base_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间*" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_CalculatedDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_Percent" SessionParameterName="" SessionParameterDisplayName="支付比例(%)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_Percent_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="基准天数(360/365)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_AnnualDays_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayLimitation" SessionParameterName="" SessionParameterDisplayName="支付上限(元)" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_PayLimitation_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="UnpaidDispose" SessionParameterName="" SessionParameterDisplayName="未付处理" ParameterInputType="select" DataSourceName="UnpaidDisposeMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_UnpaidDispose_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="发生频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_PayFrequence_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="CashingFrequency" SessionParameterName="" SessionParameterDisplayName="兑付频率(期)*" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="1" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_CashingFrequency_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="IsEffective" SessionParameterName="" SessionParameterDisplayName="当期是否兑付*" ParameterInputType="select" DataSourceName="EffectiveMethod" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_IsEffective_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
        <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否发生" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_ToBePaid_#Id#">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetServiceMatrix_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间*支付比例/基准天数" FeeType = "Parameterized"  Formula = "Fee_Base*Fee_Ratio*Fee_CalculatedDays*Fee_Percent/Fee_AnnualDays">
        ToBePaid=sContextArray.Keys.Contains("AssetServiceMatrix_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["AssetServiceMatrix_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
        if(ToBePaid==1)
        {

        Fee_MatrixRatio = double.Parse(sContextArray["AssetServiceMatrix_Fee_MatrixRatio_#Id#"][CurrentPosition.ToString()]);
        string Fee_HorizontalBaseStr =
        sContextArray["AssetServiceMatrix_Fee_HorizontalBase_#Id#"][CurrentPosition.ToString()];
        Fee_Ratio = double.Parse(sContextArray["AssetServiceMatrix_Fee_Ratio_#Id#"][CurrentPosition.ToString()]) / 100;

        String Base=sContextArray["AssetServiceMatrix_Fee_Base_#Id#"][CurrentPosition.ToString()];
        String Days=sContextArray["AssetServiceMatrix_Fee_CalculatedDays_#Id#"][CurrentPosition.ToString()];
        Fee_Base=double.Parse(sContextArray[Base][CurrentPosition.ToString()]);
        Fee_CalculatedDays=double.Parse(sContextArray[Days][CurrentPosition.ToString()]);

        String RateName= "BaseNoteMargin_"+Fee_HorizontalBaseStr+"_0";
        if(!sContextArray[RateName].Keys.Contains(CurrentPosition.ToString()))
        {
        RateName= "BaseNoteMargin_"+Fee_HorizontalBaseStr;
        }
        String couponBasis = sContextArray[RateName][CurrentPosition.ToString()];


        double InitialInvestedAmount = 0; double.TryParse(sContext["InitialInvestedAmount_" + Fee_HorizontalBaseStr] == null ? "0" : sContext["InitialInvestedAmount_" + Fee_HorizontalBaseStr].ToString(), out InitialInvestedAmount);
        double PreClosingBalance = 0; double.TryParse(!cashflows.Keys.Contains("ClosingBalance_" + Fee_HorizontalBaseStr) ? "0" : cashflows["ClosingBalance_"  + Fee_HorizontalBaseStr][Math.Max(CurrentPosition - 1, 0)].ToString(), out PreClosingBalance);

        var openingBalance = 0.0;
        if (CurrentPosition == 0)
        {
        openingBalance = InitialInvestedAmount;
        }
        else
        {
        openingBalance = PreClosingBalance;
        }

        // CumulativeDefaultRate = 0.015;

        if (openingBalance == 0)
        {
        Fee_Ratio = TrustFeeUtils.GetFeeRateByMatrix(Fee_MatrixRatio.ToString(), ref sContext, couponBasis, CumulativeDefaultRate.ToString(), Fee_Ratio.ToString());
        }


        Fee_AnnualDays=double.Parse(sContextArray["AssetServiceMatrix_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
        Fee_Percent=double.Parse(sContextArray["AssetServiceMatrix_Fee_Percent_#Id#"][CurrentPosition.ToString()]);
        double Fee_Value=Math.Round( Fee_Ratio * Fee_Base*Fee_CalculatedDays * (Fee_Percent / 100.00) /Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);

        PayLimitation=sContextArray["AssetServiceMatrix_Fee_PayLimitation_#Id#"].Keys.Contains(CurrentPosition.ToString())? double.Parse(sContextArray["AssetServiceMatrix_Fee_PayLimitation_#Id#"][CurrentPosition.ToString()]):0;

        if(CurrentPosition==0)
        {
        return PayLimitation==0? Fee_Value+Fee_InitialDueAmount : Math.Min(PayLimitation,Fee_Value+Fee_InitialDueAmount);
        }
        else
        { return PayLimitation==0? Fee_Value+Fee_Leftover : Math.Min(PayLimitation,Fee_Value+Fee_Leftover);
        }
        }
        else
        {
        if(CurrentPosition==0)
        {return Fee_InitialDueAmount;
        }
        else
        { return Fee_Leftover;}
        }
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetServiceMatrix_Fee_#Id#_Paid">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
      </Parameters>
      <Query name="EC_AssetServiceMatrix_Fee_#Id#_Accrued">
        return 0;
      </Query>
      <Presentation/>
    </main>
    <main>
      <Parameters>
        <Parameter Name="InitialAccrued" SessionParameterName="AssetServiceMatrix_Fee_#Id#_InitialAccrued" SessionParameterDisplayName="期初留存" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow" />
        <Parameter Name="PreAccumulateAccrued" SessionParameterName="" SessionParameterDisplayName="上期留存" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetServiceMatrix_Fee_#Id#_AccumulateAccrued">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_AssetServiceMatrix_Fee_#Id#_AccumulateAccrued">
        if(CurrentPosition==0)
        {
        return InitialAccrued;
        }
        else
        {
        return PreAccumulateAccrued;
        }
      </Query>
      <Presentation/>
    </main>
  </Methods>
  <DataSources>
    <DataSource Name="FeeBase">
      <Option Title="当期资产回收款(利息部分）" Value="BasedOnTotalInterestCollected"></Option>
      <Option Title="期初资产池未还本金(从封包日起算)" Value="BasedOnAssetPoolBalance" ></Option>
      <Option Title="期初资产池未还本金(从成立日起算)" Value="BasedOnEstablishDateAssetPool" ></Option>
      <Option Title="期初证券未偿本金(上一兑付日后)" Value="BasedOnBondBalance" ></Option>
      <Option Title="期初优先级未偿本金(上一兑付日后)" Value="BasedOnFirstClassBalance"></Option>
      <Option Title="证券未偿本金(上年第一个兑付日后)" Value="BasedOnLastYearBondBalance" ></Option>
      <Option Title="优先级未偿本金(上年第一个兑付日后)" Value="BasedOnLastYearFirstClassBalance"></Option>
      <Option Title="证券总发行规模" Value="BasedOnIssueAmount"></Option>
      <Option Title="当期资产回收款(本金+利息部分）" Value="BasedOnPrincipalInterestCollectionBase"></Option>
      <Option Title="底部资产本金+利息回款(保管银行利息)" Value="BasedOnPrincipalInterestCollection"></Option>
      <Option Title="当期资产回收款(利息部分）+当期资产赎回款(利息部分）" Value="BasedOnTotalInterestCollectedAndBadAssetsRedeem"></Option>
    </DataSource>
    <DataSource Name="PeriodBase">
      <Option Title="收款区间(从封包日起算)" Value="CollectionDays" ></Option>
      <Option Title="收款区间(从成立日起算)" Value="ShortCollectionDays" ></Option>
      <Option Title="计息期间(从成立日起算)" Value="InterestDays" ></Option>
      <Option Title="兑付区间(从成立日起算)" Value="PaymentDays" ></Option>
    </DataSource>
    <DataSource Name="DatumDays">
      <Option Title="360" Value="360" ></Option>
      <Option Title="365" Value="365" ></Option>
      <Option Title="366" Value="366" ></Option>
      <Option Title="A/A" Value="A/A" ></Option>
    </DataSource>
    <DataSource Name="InterestRate">
      <Option Title="按天" Value="day" ></Option>
      <Option Title="按月" Value="month" ></Option>
      <Option Title="按季" Value="season" ></Option>
      <Option Title="按半年" Value="halfyear" ></Option>
      <Option Title="按年" Value="year" ></Option>
    </DataSource>
    <DataSource Name="UnpaidDisposeMethod">
      <Option Title="追溯下期" Value="UnpaidTrace" ></Option>
      <Option Title="截止当期" Value="UnpaidNotTrace" ></Option>
    </DataSource>
    <DataSource Name="EffectiveMethod">
      <Option Title="是" Value="1" ></Option>
      <Option Title="否" Value="0" ></Option>
    </DataSource>

    <DataSource Name="InterestPeriod">
      <Option Title="计算日" Value="CollectionDate" ></Option>
      <Option Title="产品兑付日" Value="PaymentDate" ></Option>
    </DataSource>


    <DataSource Name="DateType">
      <Option Title="工作日" Value="WorkingDay" ></Option>
      <Option Title="自然日" Value="CalendarDay" ></Option>
      <Option Title="交易日" Value="SettlementDate" ></Option>
    </DataSource>

    <DataSource Name="DateTypes">
      <Option Title="工作日" Value="WorkingDay" ></Option>
      <Option Title="自然日" Value="CalendarDay" ></Option>
      <Option Title="交易日" Value="SettlementDate" ></Option>
    </DataSource>

    <DataSource Name="PeriodBaeType">
      <Option Title="资产池封包日" Value="PoolCloseDate" ></Option>
    </DataSource>

  </DataSources>
</Tool>